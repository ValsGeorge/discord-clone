{"version":3,"sources":["../../src/controllers/users.controller.ts"],"sourcesContent":["import { NextFunction, Request, Response } from 'express';\r\nimport { CreateUserDto } from '@dtos/users.dto';\r\nimport { User } from '@interfaces/users.interface';\r\nimport userService from '@services/users.service';\r\nclass UsersController {\r\n  public userService = new userService();\r\n\r\n  public getUsers = async (req: Request, res: Response, next: NextFunction) => {\r\n    try {\r\n      const findAllUsersData: User[] = await this.userService.findAllUser();\r\n\r\n      res.status(200).json({ data: findAllUsersData, message: 'findAll' });\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  };\r\n\r\n  public getUserById = async (req: Request, res: Response, next: NextFunction) => {\r\n    try {\r\n      const userId: string = req.params.id;\r\n      const findOneUserData: User = await this.userService.findUserById(userId);\r\n\r\n      res.status(200).json({ data: findOneUserData, message: 'findOne' });\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  };\r\n\r\n  public createUser = async (req: Request, res: Response, next: NextFunction) => {\r\n    try {\r\n      console.log(\"createUser\", req.body);\r\n      const userData: CreateUserDto = req.body;\r\n      const createUserData: User = await this.userService.createUser(userData);\r\n\r\n      res.status(201).json({ data: createUserData, message: 'created' });\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  };\r\n\r\n  public updateUser = async (req: Request, res: Response, next: NextFunction) => {\r\n    try {\r\n      const userId: string = req.params.id;\r\n      const userData: CreateUserDto = req.body;\r\n      const updateUserData: User = await this.userService.updateUser(userId, userData);\r\n\r\n      res.status(200).json({ data: updateUserData, message: 'updated' });\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  };\r\n\r\n  public deleteUser = async (req: Request, res: Response, next: NextFunction) => {\r\n    try {\r\n      const userId: string = req.params.id;\r\n      const deleteUserData: User = await this.userService.deleteUser(userId);\r\n\r\n      res.status(200).json({ data: deleteUserData, message: 'deleted' });\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  };\r\n}\r\n\r\nexport default UsersController;\r\n"],"names":["userService","UsersController","getUsers","req","res","next","findAllUsersData","error","findAllUser","status","json","data","message","getUserById","userId","findOneUserData","params","id","findUserById","createUser","userData","createUserData","console","log","body","updateUser","updateUserData","deleteUser","deleteUserData"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,OAAOA,iBAAiB,0BAA0B;AAClD,IAAA,AAAMC,kBAAN,SAAMA;;0BAAAA;SACGD,cAAc,IAAIA;;SAElBE;mBAAW,kBAAA,SAAOC,KAAcC,KAAeC,MAAuB;gBAEnEC,kBAGCC;;;;;;;;;;wBAH0B;;4BAAM,MAAKP,WAAW,CAACQ,WAAW;;;wBAA7DF,mBAA2B;wBAEjCF,IAAIK,MAAM,CAAC,KAAKC,IAAI,CAAC;4BAAEC,MAAML;4BAAkBM,SAAS;wBAAU;;;;;;wBAC3DL;wBACPF,KAAKE;;;;;;;;;;;QAET;wBARyBJ,KAAcC,KAAeC;;;;;SAU/CQ;mBAAc,kBAAA,SAAOV,KAAcC,KAAeC,MAAuB;gBAEtES,QACAC,iBAGCR;;;;;;;;;;wBAJDO,SAAiBX,IAAIa,MAAM,CAACC,EAAE;wBACN;;4BAAM,OAAKjB,WAAW,CAACkB,YAAY,CAACJ;;;wBAA5DC,kBAAwB;wBAE9BX,IAAIK,MAAM,CAAC,KAAKC,IAAI,CAAC;4BAAEC,MAAMI;4BAAiBH,SAAS;wBAAU;;;;;;wBAC1DL;wBACPF,KAAKE;;;;;;;;;;;QAET;wBAT4BJ,KAAcC,KAAeC;;;;;SAWlDc;mBAAa,kBAAA,SAAOhB,KAAcC,KAAeC,MAAuB;gBAGrEe,UACAC,gBAGCd;;;;;;;;;;wBALPe,QAAQC,GAAG,CAAC,cAAcpB,IAAIqB,IAAI;wBAC5BJ,WAA0BjB,IAAIqB,IAAI;wBACX;;4BAAM,OAAKxB,WAAW,CAACmB,UAAU,CAACC;;;wBAAzDC,iBAAuB;wBAE7BjB,IAAIK,MAAM,CAAC,KAAKC,IAAI,CAAC;4BAAEC,MAAMU;4BAAgBT,SAAS;wBAAU;;;;;;wBACzDL;wBACPF,KAAKE;;;;;;;;;;;QAET;wBAV2BJ,KAAcC,KAAeC;;;;;SAYjDoB;mBAAa,kBAAA,SAAOtB,KAAcC,KAAeC,MAAuB;gBAErES,QACAM,UACAM,gBAGCnB;;;;;;;;;;wBALDO,SAAiBX,IAAIa,MAAM,CAACC,EAAE;wBAC9BG,WAA0BjB,IAAIqB,IAAI;wBACX;;4BAAM,OAAKxB,WAAW,CAACyB,UAAU,CAACX,QAAQM;;;wBAAjEM,iBAAuB;wBAE7BtB,IAAIK,MAAM,CAAC,KAAKC,IAAI,CAAC;4BAAEC,MAAMe;4BAAgBd,SAAS;wBAAU;;;;;;wBACzDL;wBACPF,KAAKE;;;;;;;;;;;QAET;wBAV2BJ,KAAcC,KAAeC;;;;;SAYjDsB;mBAAa,kBAAA,SAAOxB,KAAcC,KAAeC,MAAuB;gBAErES,QACAc,gBAGCrB;;;;;;;;;;wBAJDO,SAAiBX,IAAIa,MAAM,CAACC,EAAE;wBACP;;4BAAM,OAAKjB,WAAW,CAAC2B,UAAU,CAACb;;;wBAAzDc,iBAAuB;wBAE7BxB,IAAIK,MAAM,CAAC,KAAKC,IAAI,CAAC;4BAAEC,MAAMiB;4BAAgBhB,SAAS;wBAAU;;;;;;wBACzDL;wBACPF,KAAKE;;;;;;;;;;;QAET;wBAT2BJ,KAAcC,KAAeC;;;;;AAY1D,eAAeJ,gBAAgB"}