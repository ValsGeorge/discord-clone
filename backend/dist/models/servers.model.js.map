{"version":3,"sources":["../../src/models/servers.model.ts"],"sourcesContent":["import { DataTypes, Model } from 'sequelize';\r\nimport sequelize from 'databases/index';\r\nimport User from './users.model';\r\n\r\nclass Server extends Model {\r\n    public id: string;\r\n    public name: string;\r\n    public description: string;\r\n    public icon: string;\r\n    public type: string;\r\n    public owner: User;\r\n    public members: User[];\r\n    public createdAt: Date;\r\n    public updatedAt: Date;\r\n\r\n    static associate(models: any): void {\r\n        Server.belongsTo(models.User, { foreignKey: 'owner', as: 'owner' });\r\n        Server.belongsToMany(models.User, {\r\n            through: models.ServerMembers,\r\n            as: 'members',\r\n            foreignKey: 'serverId',\r\n        });\r\n    }\r\n}\r\n\r\nServer.init(\r\n    {\r\n        id: {\r\n            type: DataTypes.STRING,\r\n            primaryKey: true,\r\n            allowNull: false,\r\n        },\r\n        name: {\r\n            type: DataTypes.STRING(64),\r\n            allowNull: false,\r\n        },\r\n        description: {\r\n            type: DataTypes.STRING(128),\r\n            allowNull: false,\r\n        },\r\n        icon: {\r\n            type: DataTypes.STRING,\r\n            allowNull: true,\r\n        },\r\n        type: {\r\n            type: DataTypes.STRING,\r\n            allowNull: false,\r\n        },\r\n        createdAt: {\r\n            type: DataTypes.DATE,\r\n            allowNull: false,\r\n            defaultValue: DataTypes.NOW,\r\n        },\r\n        updatedAt: {\r\n            type: DataTypes.DATE,\r\n            allowNull: false,\r\n            defaultValue: DataTypes.NOW,\r\n        },\r\n    },\r\n    {\r\n        tableName: 'servers',\r\n        sequelize,\r\n    }\r\n);\r\n\r\nexport default Server;\r\n"],"names":["DataTypes","Model","sequelize","Server","associate","models","belongsTo","User","foreignKey","as","belongsToMany","through","ServerMembers","init","id","type","STRING","primaryKey","allowNull","name","description","icon","createdAt","DATE","defaultValue","NOW","updatedAt","tableName"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,SAAS,EAAEC,KAAK,QAAQ,YAAY;AAC7C,OAAOC,eAAe,kBAAkB;AAGxC,IAAA,AAAMC,uBAqBL,AArBD;;cAAMA;8BAAAA;aAAAA;8BAAAA;;;IAAAA,OAWKC,SAON,GAPD,SAAOA,UAAUC,MAAW,EAAQ;QAXlCF,OAYSG,SAAS,CAACD,OAAOE,IAAI,EAAE;YAAEC,YAAY;YAASC,IAAI;QAAQ;QAZnEN,OAaSO,aAAa,CAACL,OAAOE,IAAI,EAAE;YAC9BI,SAASN,OAAOO,aAAa;YAC7BH,IAAI;YACJD,YAAY;QAChB;IACJ;WAlBEL;EAAeF;AAqBrBE,OAAOU,IAAI,CACP;IACIC,IAAI;QACAC,MAAMf,UAAUgB,MAAM;QACtBC,YAAY,IAAI;QAChBC,WAAW,KAAK;IACpB;IACAC,MAAM;QACFJ,MAAMf,UAAUgB,MAAM,CAAC;QACvBE,WAAW,KAAK;IACpB;IACAE,aAAa;QACTL,MAAMf,UAAUgB,MAAM,CAAC;QACvBE,WAAW,KAAK;IACpB;IACAG,MAAM;QACFN,MAAMf,UAAUgB,MAAM;QACtBE,WAAW,IAAI;IACnB;IACAH,MAAM;QACFA,MAAMf,UAAUgB,MAAM;QACtBE,WAAW,KAAK;IACpB;IACAI,WAAW;QACPP,MAAMf,UAAUuB,IAAI;QACpBL,WAAW,KAAK;QAChBM,cAAcxB,UAAUyB,GAAG;IAC/B;IACAC,WAAW;QACPX,MAAMf,UAAUuB,IAAI;QACpBL,WAAW,KAAK;QAChBM,cAAcxB,UAAUyB,GAAG;IAC/B;AACJ,GACA;IACIE,WAAW;IACXzB,WAAAA;AACJ;AAGJ,eAAeC,OAAO"}